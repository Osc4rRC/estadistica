---
title: <center>UNIVERSIDAD NACIONAL AUTÓNOMA DE MÉXICO</center>
subtitle: <center>APLICADAS Y COMPUTACIÓN</center>
author: <center>Luján García César Alejandro<br>Gómez Hernandez Gabriela<br>Reyes Crispin Oscar Jair<br>Zepeda González Dafne Elizabeth</center>
date: "ACTIVIDAD 3: Descripción estadística de datos en R"
output: 
  html_document: 
    toc: yes
    highlight: textmate
    number_sections: yes
    theme: lumen
  pdf_document:
    toc: yes
#subtitle: Descripción estadística de datos en R
header-includes:
  \renewcommand{\contentsname}{Contenido}
---

```{r setup, include=FALSE}
#Personalizando nuestra sesión
options(digits=3,papersize = "letter")  
# https://stat.ethz.ch/R-manual/R-devel/library/base/html/options.html


# Opciones globales en graficas
par(mar=c(5.1,5,4.1,2.1),font=3,family="sans",bg="yellow")   

```
# Descripción de las variables  
## Características de las variables
Utilizaremos la base de datos de los deportistas de la NBA durante 2018 que contiene información como el equipo al que pertenecen, su posición, de qué universidad provienen, entre otras. Las variables que contiene la base de datos son:
* Name: nombre de los jugadores  
* Team: equipo al que pertenecen los jugadores  
* Number: Número que utiliza cada jugador dentr del equipo  
* Position: Posición en la que se desempeñan durante cada partido  
* Age: Edad de los jugadores  
* Height: Altura de los jugadores  
* Weight: Peso de los jugadores  
* College: universidad de donde provienen  
* Salary: Sueldo que reciben
```{r}
datos <- read.csv(url("https://raw.githubusercontent.com/sivabalanb/Data-Analysis-with-Pandas-and-Python/master/nba.csv"))
datos<- datos[1:457,] #Eliminamos la ultima fila porque está en blanco
attach(datos)
```
Se clasifican de la siguiente manera:

Variable  | Tipo                   | Escala de medición
----------|------------------------|--------------------
Name      | cualitativa            | nominal
Team      | cualitativa            | nominal
Number    | cualitativa            | nominal    
Position  | cualitativa            | nominal
Age       | cuantitativa/discreta  | intervalo
Height    | cuantitativa/continua  | razón
Weight    | cuantitativa/continua  | razón
College   | cualitativa            | nominal
Salary    | cuantitativa/continua  | razón

# Análisis descriptivo de variables cualitativas
Vamos a utilizar la variable **College** y realizaremos un análisis para saber de qué universidad hay más jugadores
## Tabla de frecuencias
```{r}
tabla_college <- as.data.frame(table(College))
#tabla_college
```
```{r}
#Sigo pensando cómo hacer bien este chunk

#sum(tabla_college$Freq<=3)
#Observamos que hay 119 Universidades diferentes pero 91 solo cuentan con registros de máximo 3 jugadores. Para una mejor visualización vamos a agrupar estos registros en una sola tupla llamada "otra".

#tabla_mod_college <- subset(tabla_college, Freq>3)
#otra <- data.frame(
#  College=c("Otra"),
#  Freq=sum(tabla_college$Freq<=3)
#)
#tabla_mod_college <- rbind(tabla_mod_college, otra)

#tabla_frec_college <- transform(tabla_mod_college,
#          FrecAq = cumsum(Freq),
#          Rel = round(prop.table(Freq), 3),
#          RelAc = round(cumsum(prop.table(Freq)), 3))
#tabla_frec_college

```

```{r}

tabla_frec_college <- transform(tabla_college[with(tabla_college, order(-tabla_college$Freq)),],
          FrecAq = cumsum(Freq),
          Rel = round(prop.table(Freq), 3),
          RelAc = round(cumsum(prop.table(Freq)), 3))
tabla_frec_college
```
Con la tabla de frecuencias observamos que **Kentucky** con 22 jugadores es la universidad que tiene más alumnos en la NBA, seguida de la universidad de **Duke** con 20 jugadores. Aunque hay 84jugadores que no pertenecen a ninguna universidad o no tienen una registrada, pero solo representan el 18% de todos los jugadores, entonces decimos que el 82% de jugadores, es decir 373 jugadores, pertenecen a alguna universidad.
También podemos observar que la mayoría de universidades cuentan con máximo 2 jugadores de la NBA, son pocas las universidades privilegiadas de aportar varios estudiantes a la NBA.  

Ahora vamos a realizar el mismo análisis para la variable de posiciones
```{r}
tabla_position <- as.data.frame(table(Position))
tabla_position <- transform(tabla_position,
          FrecAq = cumsum(Freq),
          Rel = round(prop.table(Freq), 3),
          RelAc = round(cumsum(prop.table(Freq)), 3))
tabla_position
```
Observamos que la posición en la que más jugadores se desempeñan es **SG (Shooting Guard)**, mientras que la posición que menos jugadores tiene es **C (Center o Pivot)**, lo cual tiene sentido ya que en esta posición las hibilidades más importantes son el peso y la fuerza y la mayoría de jugadores que vemos en la NBA tienden a ser delgados y ligeros para tener mayor agilidad, aunque no es mucha la diferencia de jugadores que hay en esta posición comparada con las otras posiciones.

## Análisis gráfico
```{r}
# Diagrama Circular

par(mfrow=c(1,2))
pie(tabla_position$Freq,labels=paste(c("C","PF","PG","SF","SG"),tabla_position$Freq,sep=": "),col=2:7,radius=1)
title("Diagrama de pastel - Posiciones \n (Frecuencias)")

pie(tabla_position$Rel,labels=paste(c("C","PF","PG","SF","SG"),tabla_position$Rel,sep=": "),col=2:7,radius=1)
title("Diagrama de pastel - Posiciones \n (Frecuencias relativas)")
```
```{r}
library(plotrix)
par(mfrow=c(1,2))
pie3D(tabla_position$Freq,labels=paste(c("C","PF","PG","SF","SG"),tabla_position$Freq,sep=": "),col=2:7,explode = 0.1)
title("Diagrama de pastel - Posiciones \n (Frecuencias)")

pie3D(tabla_position$Rel,labels=paste(c("C","PF","PG","SF","SG"),tabla_position$Rel,sep=": "),col=2:7,explode = 0.1)
title("Diagrama de pastel - Posiciones \n (Frecuencias relativas)")
```  

## Estadísticos de resumen
 ................  
 
# Análisis descriptivo de variables cuantitativas
## Tabla de frecuencias
## Análisis gráfico

# El problema de comparación y asociación entre variables
## Comparación estadística de las distintas cateogrías
## Análisis estadístico e inferencial
## Análisis de la asociación